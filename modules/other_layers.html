<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Other-Layers | Convector Framework</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
	integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.js" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title uppercase">
						<img src="../assets/images/convector.svg" class="convector-logo">
					</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-2 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul class="custom-nav">
					<li>
						<a href="../index.html">Home</a>
					</li>
					<li>
						<a href="fundamentals.html">Fundamentals</a>
						<ul>
							<li>
								<a href="packages.html">Packages</a>
							</li>
							<li>
								<a href="models.html">Models</a>
							</li>
							<li>
								<a href="controllers.html">Controllers</a>
							</li>
							<li>
								<a href="chaincode_manager.html">Tool: Chaincode Manager</a>
							</li>
							<li>
								<a href="development_environment.html">Tool: Development Environment</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="getting_started.html">Getting Started</a>
						<ul>
							<li>
								<a href="other_layers.html">Fullstack usage</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="hyperledger_fabric.html">An small overview of Hyperledger Fabric</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/convector-cli" target="_blank">
							<i class="fa fa-rocket" aria-hidden="true"></i>
						Convector CLI</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/convector" target="_blank">
							<i class="fa fa-github" aria-hidden="true"></i>
						Source code</a>
					</li>
					<li>
						<a href="https://medium.com/worldsibu/for-devs/home" target="_blank">
						<i class="fa fa-medium" aria-hidden="true"></i>Medium Blog</a>
					</li>
					<li>
						<span class="powered-by">Powered by <a href="https://worldsibu.io">WorldSibu</a>. Licensed under an <a href="https://raw.githubusercontent.com/worldsibu/convector/develop/LICENSE.txt" target="_blank">Apache 2.0 license</a>.</span>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
		<div class="col-10 col-content">
			<div class="tsd-page-title">
				<div class="container-fluid">
					<ul class="tsd-breadcrumb">
						<li>
							<a href="../index.html"> Convector Framework</a>
						</li>
					</ul>
					<h1>Other-Layers</h1>
				</div>
			</div>
			<div>
				<section class="tsd-panel tsd-comment">
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<!-- # Guides

- <a href="fundamentals.html">Fundamentals</a>
- <a href="getting_started.html">Getting-Started</a> -->
							<h1 id="-wip-fullstack-usage">[WIP] Fullstack usage</h1>
							<p>One of Convector&#39;s promises is the fullstack native support for JavaScript development architectures. Here&#39;s a quick entry on how to integrate it to NodeJS and Angular 4+ taking advantage of the built in adapters and storage layers that allow you to seamlessly communicate with the underneath layer.</p>
							<h2 id="-let-s-assume-a-fairly-typical-architecture-">| Let&#39;s assume a fairly typical architecture. |</h2>
							<p>| Angular |
								| NodeJS |
							| Hyperledger Fabric + CouchDB |</p>
							<p>Basically data is always in the ledger, the only difference is that when you want to query in a sofisticated way (like filtered or aggregated data) you would use the <a href="https://worldsibu.github.io/convector/modules/hyperledger_fabric.html">World State</a>. The rest is kind of obvious, Angular provides web front end for customers whereas NodeJS works as a backend communicating with the blockchain nodes and using the crypto materials to secure transactions.</p>
							<p>To allow this integration, the native transpiled Models-Controllers definitions offer a <code>client</code> folder with the resulting model and controller ready to be <em>imported</em> by Node and Angular.</p>
							<p>The <strong>Adapters</strong> and <strong>Storages</strong> components, let you, through the <code>client</code> files, inject implementations based on the layer you are using the code.</p>
							<h2 id="adding-convector-to-nodejs">Adding Convector to NodeJS</h2>
							<p>A NodeJS backend should communicate with one or more nodes, it should sign transactions, and orchestrate calls between the blockchain and the World State database. Adapters and Storages will handle the basic tasks, like calling a Chaincode function or retriving data from the ledger, all you have to do is setup them correctly based on your topology.</p>
							<p>Somewhere in your code you will need to import the <code>client</code> files, as well setup Adapters and Storages.</p>
							<pre><code class="lang-typescript"><span class="hljs-comment">/**
 * Building this adapter allows you to communicate with the
 * test env created by `convector-tool-dev-env`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">namespace</span> DrugController {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span>(<span class="hljs-params"></span>): <span class="hljs-title">Promise</span>&lt;<span class="hljs-title">DrugControllerClient</span>&gt; </span>{
    <span class="hljs-keyword">const</span> user = process.env.USERCERT || <span class="hljs-string">'user1'</span>;

    <span class="hljs-keyword">await</span> SelfGenContext.getClient();

    <span class="hljs-keyword">const</span> adapter = <span class="hljs-keyword">new</span> FabricControllerAdapter({
      txTimeout: <span class="hljs-number">300000</span>,
      user: user,
      channel: process.env.CHANNEL,
      chaincode: process.env.CHAINCODE,
      keyStore: resolve(__dirname, process.env.KEYSTORE),
      networkProfile: resolve(__dirname, process.env.NETWORKPROFILE),
      userMspPath: process.env.KEYSTORE
    });

    <span class="hljs-keyword">await</span> adapter.init();
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DrugControllerClient(adapter);
  }
}

</code></pre>
							<h2 id="adding-convector-to-angular">Adding Convector to Angular</h2>
							<p>In this case, Angular will always call NodeJS which subsequently calls the nodes. What is important here is to keep the Models&#39; structures as well the interfaces</p>
							<p>As you can see, it&#39;s rather easy to integrate Convector to other TypeScript/JavaScript based projects due to its native development model.</p>
							<hr>
							<h2 id="what-s-next">What&#39;s next</h2>
							<p>Want to see an out of the box project working? Take a look at the <a href="https://github.com/worldsibu/convector-example-drug-supply-chain">Drug Supply Example</a>.</p>
							<hr>
							<p><a href="https://github.com/worldsibu/convector-cli" target="_blank">Convector CLI</a> has been recently released! Get familiar with the new way to create Enterprise Smart Contract Systems.</p>
							<p><a href="https://github.com/worldsibu/convector/issues"><img src="https://img.shields.io/github/issues-raw/@worldsibu/convector.svg" alt="Issues"></a>
								<a href="https://worldsibu.io/subscribe/"><img src="https://img.shields.io/badge/Newsletter--orange.svg" alt="Newsletter"></a>
							<a href="https://discord.gg/twRwpWt"><img src="https://img.shields.io/discord/469152206638284800.svg" alt="Discord"></a></p>
							<p><a href="https://www.npmjs.com/package/@worldsibu/convector-core-chaincode"><img src="https://img.shields.io/npm/v/@worldsibu/convector-core-chaincode.svg" alt="npm"></a>
							<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a></p>
							<p><a class="github-button" href="https://github.com/worldsibu/convector" data-icon="octicon-star" data-size="large" aria-label="Star worldsibu/convector on GitHub">Star</a> <a class="github-button" href="https://github.com/worldsibu" data-size="large" aria-label="Follow @worldsibu on GitHub">Follow</a></p>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
</div>
<footer  class="with-border-bottom" >
</footer>
<div class="container tsd-generator">
	<a href="https://worldsibu.io">
		<img src="../assets/images/worldsibu.svg" class="worldsibu-logo">
	</a>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-128943824-2', '');
        ga('send', 'pageview');
    </script>
</body>
</html>